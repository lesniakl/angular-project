import{c as s}from"./chunk-BFGFID37.js";import{a as d}from"./chunk-ZECISSPR.js";import{a as t,b as a,c as l,d as r,h as n}from"./chunk-SDUPZHXZ.js";import"./chunk-2R6CW7ES.js";var c=":host{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;flex-direction:column;position:relative;max-width:19.75rem;border-color:var(--theme-group-item--border-color)}:host .group-header{height:4rem;min-height:4rem;max-height:4rem;border-radius:var(--theme-group--border-radius) var(--theme-group--border-radius) 0 0;display:flex;background-color:var(--theme-group-item--background);color:var(--theme-group-header--color);cursor:pointer}:host .group-header:not(.disabled):not(:disabled){cursor:pointer}:host .group-header:not(.disabled):not(:disabled):hover{background-color:var(--theme-group-item--background--hover)}:host .group-header:not(.disabled):not(:disabled):hover.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header:not(.disabled):not(:disabled){cursor:pointer}:host .group-header:not(.disabled):not(:disabled):active,:host .group-header:not(.disabled):not(:disabled).active{background-color:var(--theme-group-item--background--active)}:host .group-header:not(.disabled):not(:disabled):active.selected,:host .group-header:not(.disabled):not(:disabled).active.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header:not(.disabled):not(:disabled):focus-visible{border:1px solid var(--theme-color-focus-bdr);border-radius:var(--theme-default-border-radius) var(--theme-default-border-radius) 0px 0px;outline:none}:host .group-header.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header.selected .group-header-selection-indicator{background-color:var(--theme-group-item-indicator--background--selected)}:host .group-header .group-header-selection-indicator{background-color:var(--theme-color-input--focus)}:host .group-header .group-header-selection-indicator.group-header-selection-indicator-item-selected{background-color:var(--theme-group-item-indicator--background--selected)}:host .group-header-clickable{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;width:100%;min-width:0}:host .group-header-selection-indicator{width:0.25rem;border-top-left-radius:var(--theme-group--border-radius)}:host .group-header-content{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;flex-direction:row;justify-content:space-between;min-width:0;flex-grow:1;flex-basis:0;padding:0.5rem;padding-left:0}:host .group-header-content .group-header-props-container{width:100%}:host .group-header-content .group-header-title{display:flex;align-items:center;font-size:1rem;font-weight:700;height:1.5rem}:host .group-header-content .group-header-title>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:0;padding-right:0}:host .group-header-content .group-subheader{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:1.25rem;font-size:0.875rem;color:var(--theme-group-subheader--color)}:host .expand-icon{padding:0.125rem 0.437rem;color:var(--theme-color-std-text)}:host .btn-expand-header{margin:0.5rem;margin-inline-end:0.25rem;min-width:1.5rem}:host .group-content{display:flex;flex-direction:column;gap:1px;margin-top:1px}:host .footer{visibility:collapse;height:auto;min-height:0}:host .footer-visible{visibility:visible}:host .hidden{display:none}",h=c,f=(()=>{let i=class{constructor(e){n(this,e),this.selectGroup=r(this,"selectGroup",7),this.selectItem=r(this,"selectItem",7),this.collapsedChanged=r(this,"collapsedChanged",7),this.observer=null,this.suppressHeaderSelection=!1,this.header=void 0,this.subHeader=void 0,this.collapsed=!0,this.selected=!1,this.index=void 0,this.expandOnHeaderClick=!1,this.itemSelected=!1,this.slotSize=this.groupItems.length,this.footerVisible=!1,this.showExpandCollapsedIcon=!1}get dropdownItems(){return Array.from(this.hostElement.querySelectorAll("ix-group-dropdown-item"))}get groupItems(){return Array.from(this.hostElement.querySelectorAll("ix-group-item:not(.footer)"))}get groupContent(){var e;return(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector(".group-content")}onExpandClick(e){this.collapsed=!this.collapsed,this.collapsedChanged.emit(this.collapsed),e.stopPropagation()}onHeaderClick(e){this.setGroupSelection(!this.selected),this.suppressHeaderSelection&&this.onExpandClick(e)}onItemClick(e){let o=e===this.index?void 0:e;this.selectItem.emit(o),this.index=o,this.index!==void 0&&this.index>=0?this.itemSelected=!0:this.itemSelected=!1,this.setGroupSelection(!1)}setGroupSelection(e){this.suppressHeaderSelection||(this.selected=e,this.selectGroup.emit(this.selected))}onSlotChange(){var e;let o=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector('slot[name="footer"]');o&&(this.footerVisible=s(o))}componentWillRender(){this.groupItems.forEach((e,o)=>{if(this.selected===!0){e.selected=!1,this.index=void 0,this.itemSelected=!1;return}e.selected=o===this.index,e.index=o})}componentDidLoad(){var e;this.observer=d(()=>{this.slotSize=this.groupItems.length}),this.groupContent&&(this.observer.observe(this.groupContent,{childList:!0}),(e=this.groupContent)===null||e===void 0||e.addEventListener("selectedChanged",o=>{if(o.detail.suppressSelection){o.stopPropagation();return}this.onItemClick(o.detail.index)}))}disconnectedCallback(){this.observer&&this.observer.disconnect()}render(){return t(a,{key:"8153fe3f0c5fd78f733287dacb9fb5cfd23e624c"},t("div",{key:"109139ea65795878ffd08e539ef5a59ade8c05ba",class:{"group-header":!0,expand:!this.collapsed,selected:this.selected},tabindex:"0"},t("div",{key:"262c00872bbfb8958de008e6a5d9f847a6121777",class:"group-header-clickable",onClick:e=>this.onHeaderClick(e)},t("div",{key:"c64dc6333e5b8cd876d5dac4ed294885fa9d97db",class:{"group-header-selection-indicator":!0,"group-header-selection-indicator-item-selected":this.itemSelected}}),t("div",{key:"b295acc0552867f1d97803cf7ffa2fcdafe30931",class:"btn-expand-header"},t("ix-icon",{key:"d0b798aa02a970d77d1636ff38677f2b5777dc0b","data-testid":"expand-collapsed-icon",class:{hidden:!this.showExpandCollapsedIcon},name:this.collapsed?"chevron-right-small":"chevron-down-small",onClick:e=>this.onExpandClick(e)})),t("div",{key:"fa7a41f9e379ec4972d1c3db364f0ab82e57a0b5",class:"group-header-content"},this.header?t("div",{class:"group-header-props-container"},t("div",{class:"group-header-title"},t("span",{title:this.header},this.header)),t("div",{class:"group-subheader",title:this.subHeader},this.subHeader)):null,t("slot",{key:"4caba82a4558a06a999723d52dd05ed1c19c772b",name:"header"}))),t("ix-group-context-menu",{key:"ca29c2ff305e9a0ba11299771cdb27c509cf887c"},t("slot",{key:"dfd21416520cac904b790be7fceb0f02f8ef630d",name:"dropdown"}))),t("div",{key:"07470786706f46bd197ea7ff9ce6b0b97d8b114a",class:{"group-content":!0}},t("div",{key:"f9ec75f57035ff5583dd728d34907139f7d787f5",style:{display:this.collapsed?"none":"contents"}},t("slot",{key:"bc86c0d2b2cc896e350c61aeb98896979ffb3647",onSlotchange:()=>{var e;let o=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector("slot:not([name])");this.showExpandCollapsedIcon=s(o)}}),t("ix-group-item",{key:"ad82143a05418d19517e06205452ed1db0367258",suppressSelection:!0,focusable:!1,class:{footer:!0,"footer-visible":this.footerVisible}},t("slot",{key:"e4aec4e664f7f4479e9be7d90bec9ea19c1b8677",name:"footer",onSlotchange:()=>this.onSlotChange()})))))}get hostElement(){return l(this)}};return i.style=h,i})();export{f as ix_group};

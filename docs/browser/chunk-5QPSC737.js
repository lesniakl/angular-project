import{a as u}from"./chunk-UNDOHNHE.js";import{a as h}from"./chunk-UKCE37UH.js";import{a as f,c as p}from"./chunk-3E2IG3VG.js";import{a as c}from"./chunk-NIRR6R3K.js";import{a as n,b,c as g,d as m,h as y}from"./chunk-SDUPZHXZ.js";import{g as d}from"./chunk-2R6CW7ES.js";function w(t,e,i=3e3){return new Promise((a,l)=>{let o=Date.now(),s=()=>{let r=e.querySelector(t);r?a(r):Date.now()-o<i?setTimeout(s):l()};s()})}var x="::backdrop{--ix-dialog-backdrop:var(--theme-color-lightbox, #0000008c)}:focus-visible{outline:none !important}:host{display:none}:host dialog{margin:0;padding:1rem;left:50%}:host dialog::backdrop{-webkit-backdrop-filter:blur(2.7182817459px);backdrop-filter:blur(2.7182817459px)}:host .modal{display:flex;flex-direction:column;position:relative;border:none;border-radius:var(--theme-default-border-radius);background:var(--theme-modal--background);box-shadow:var(--theme-shadow-4);color:var(--theme-color-std-text);overflow:visible;max-height:80vh;pointer-events:all}:host .modal-size-360{width:22.5rem}:host .modal-size-480{width:30rem}:host .modal-size-600{width:37.5rem}:host .modal-size-720{width:45rem}:host .modal-size-840{width:52.5rem}:host .modal-size-full-width{width:95%}:host .modal-size-full-screen{left:0 !important;top:0 !important;transform:none !important;width:calc(100% - 28px);min-width:calc(100% - 28px);max-width:calc(100% - 28px);height:calc(100% - 28px);min-height:calc(100% - 28px);max-height:calc(100% - 28px)}:host .dialog-backdrop{display:block;position:fixed;width:100vw;height:100vh;top:0;left:0;pointer-events:none}:host ::slotted(ix-modal-footer){margin-top:auto}:host(.visible){display:block}:host(.align-center) dialog{margin:0;left:50%;top:50%}:host(.no-backdrop) dialog::backdrop{background-color:transparent !important;-webkit-backdrop-filter:none !important;backdrop-filter:none !important}:host(.with-icon) ::slotted(ix-modal-footer),:host(.with-icon) ::slotted(ix-modal-content){margin-left:2.5rem}",v=x,M=function(t,e,i,a){var l=arguments.length,o=l<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,i):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,i,a);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(l<3?s(o):l>3?s(e,i,o):s(e,i))||o);return l>3&&o&&Object.defineProperty(e,i,o),o},k=class{constructor(t){y(this,t),this.dialogClose=m(this,"dialogClose",7),this.dialogDismiss=m(this,"dialogDismiss",7),this.ariaAttributes={},this.size="360",this.animation=!0,this.backdrop=!0,this.closeOnBackdropClick=!1,this.beforeDismiss=void 0,this.centered=!1,this.keyboard=!0,this.closeOnEscape=!0,this.modalVisible=!1}onKey(t){t.key==="Escape"&&t.preventDefault()}get dialog(){return this.hostElement.shadowRoot.querySelector("dialog")}slideInModal(){let t=this.animation?c.mediumTime:0,e=this.centered?"-50%":40;h({targets:this.dialog,duration:t,opacity:[0,1],translateY:[0,e],translateX:["-50%","-50%"],easing:"easeOutSine"})}slideOutModal(t){let e=this.animation?c.mediumTime:0,i=this.centered?"-50%":40;h({targets:this.dialog,duration:e,opacity:[1,0],translateY:[i,0],translateX:["-50%","-50%"],easing:"easeInSine",complete:()=>{t&&t()}})}onModalClick(t){if(t.target!==this.dialog)return;let e=this.dialog.getBoundingClientRect();!(e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width)&&this.closeOnBackdropClick&&this.dismissModal()}showModal(){return d(this,null,function*(){try{let t=yield w("dialog",this.hostElement.shadowRoot);this.modalVisible=!0,t.showModal()}catch{console.error("HTMLDialogElement not existing")}})}dismissModal(t){return d(this,null,function*(){let e=!0;this.beforeDismiss!==void 0&&(e=yield this.beforeDismiss(t)),e&&this.slideOutModal(()=>{this.modalVisible=!1,this.dialog.close(JSON.stringify({type:"dismiss",reason:t},null,2)),this.dialogDismiss.emit(t)})})}closeModal(t){return d(this,null,function*(){this.slideOutModal(()=>{this.dialog.close(JSON.stringify({type:"close",reason:t},null,2)),this.dialogClose.emit(t)})})}componentDidLoad(){this.slideInModal()}componentWillLoad(){this.ariaAttributes=p(this.hostElement)}render(){return n(b,{key:"e7e27615541ea127c4d9608a71f447f169cde5d3",class:{visible:this.modalVisible,"no-backdrop":this.backdrop===!1,"align-center":this.centered}},n("div",{key:"3a4e1950295bec70cfdf1a332a9e9e4ab3186472",class:"dialog-backdrop"},n("dialog",{key:"4455ba17c66dc4d03a792a9aeea11d1380c31674","aria-modal":f(!0),"aria-describedby":this.ariaAttributes["aria-describedby"],"aria-labelledby":this.ariaAttributes["aria-labelledby"],class:{modal:!0,[`modal-size-${this.size}`]:!0},onClose:()=>this.dismissModal(),onClick:t=>this.onModalClick(t),onCancel:t=>{t.preventDefault(),this.dismissModal()}},n("slot",{key:"383eae1fa01e4159ca2d512f477532f51c56664a"}))))}get hostElement(){return g(this)}};M([u("keydown",t=>!t.closeOnEscape||!t.keyboard)],k.prototype,"onKey",null);k.style=v;export{k as ix_modal};

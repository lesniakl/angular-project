import{a as d}from"./chunk-6B5MI7V3.js";import{a as r}from"./chunk-ATPE6TRB.js";import"./chunk-3A5NOHRR.js";import{a as e,b as c,c as g,e as l,h as b}from"./chunk-SDUPZHXZ.js";import"./chunk-2R6CW7ES.js";var p=":host{display:flex;position:absolute;width:100%;height:100%}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .side-panes-wrapper{height:100%;width:100%}:host .row{height:100%;width:100%;overflow:hidden;display:flex;flex-direction:row;justify-content:space-between;position:relative}:host .col{height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between;position:relative}:host .content{width:100%;height:100%;overflow:auto}:host .absolute-top{width:100%;position:absolute;top:0}:host .absolute-bottom{width:100%;position:absolute;bottom:0}:host .absolute-left{height:100%;position:absolute;left:0}:host .absolute-right{height:100%;position:absolute;right:0}:host .padding-top{padding-top:2.5rem}:host .padding-bottom{padding-bottom:2.5rem}:host .padding-left{padding-left:2.5rem}:host .padding-right{padding-right:2.5rem}",v=p,C=(()=>{let h=class{constructor(t){b(this,t),this.panes=[],this.layout="full-vertical",this.variant="inline",this.borderless=!1,this.isMobile=!1,this.paneElements=0}get currentPanes(){return this.hostElement.querySelectorAll("ix-pane")}componentWillLoad(){this.paneElements=this.currentPanes.length,this.observer=new MutationObserver(t=>{var s,o;((s=t[0].addedNodes.item(0))===null||s===void 0?void 0:s.nodeName)==="IX-PANE"?this.paneElements+=1:((o=t[0].removedNodes.item(0))===null||o===void 0?void 0:o.nodeName)==="IX-PANE"&&(this.paneElements-=1)}),this.observer.observe(this.hostElement,{childList:!0}),this.isMobile=r("sm"),d.onChange.on(()=>{this.isMobile=r("sm")})}componentDidLoad(){this.setPanes(this.currentPanes)}disconnectedCallback(){var t;(t=this.observer)===null||t===void 0||t.disconnect()}setPaneVariant(t){t.ignoreLayoutSettings||(t.variant=this.variant)}setPaneBorder(t){if(!t.ignoreLayoutSettings)if(this.borderless)t.borderless=!0;else{let s=!!this.panes.find(o=>o.slot==="left"&&!o.hideOnCollapse);t.variant==="floating"&&this.layout==="full-vertical"&&s&&(t.composition==="top"||t.composition==="bottom")?t.borderless=!0:t.borderless=!1}}setPaneZIndex(t){let s=t.slot==="top",o=t.slot==="bottom",n=t.slot==="left",i=t.slot==="right",a=1;this.isMobile?(o||s)&&(a=3):this.layout==="full-vertical"?(n||i)&&(a=3):(o||s)&&(a=3),t.style.zIndex=a.toString()}setPanes(t){this.panes=[],t.forEach(s=>{this.panes.push({slot:s.slot,hideOnCollapse:s.hideOnCollapse,floating:s.variant==="floating"})})}closeFloatingPanes(){this.currentPanes.forEach(t=>{t.expanded&&t.variant==="floating"&&(t.expanded=!1)})}configurePanes(){let t=0,s=0,o=0,n=0;this.currentPanes.forEach(i=>{let a=i.slot==="top",f=i.slot==="bottom",u=i.slot==="left",m=i.slot==="right";if(u){if(o){i.slot=void 0;return}o++}else if(m){if(n){i.slot=void 0;return}n++}else if(a){if(t){i.slot=void 0;return}t++}else if(f){if(s){i.slot=void 0;return}s++}else{i.slot=void 0;return}this.setPaneVariant(i),this.setPaneBorder(i),this.setPaneZIndex(i)}),this.setPanes(this.currentPanes),l(this.hostElement)}onSlotChanged(){this.configurePanes()}onCollapsibleChanged(t){let{slot:s,hideOnCollapse:o}=t.detail;this.panes.forEach(n=>{n.slot===s&&(n.hideOnCollapse=o)}),l(this.hostElement)}onVariantChanged(t){let{slot:s,variant:o}=t.detail;this.panes.forEach(n=>{n.slot===s&&(n.floating=o==="floating")}),l(this.hostElement)}onPaneElementsChange(){this.configurePanes()}onVariableChange(){this.currentPanes.forEach(t=>{this.setPaneVariant(t),this.setPaneBorder(t)}),this.setPanes(this.currentPanes),l(this.hostElement)}onBorderChange(){this.currentPanes.forEach(t=>{this.setPaneBorder(t)})}onLayoutChange(){this.currentPanes.forEach(t=>{this.setPaneBorder(t),this.setPaneZIndex(t)})}onMobileChange(){this.currentPanes.forEach(t=>{this.setPaneZIndex(t)})}hasPadding(t){let s=this.panes.find(o=>o.slot===t);return s?!s.hideOnCollapse&&s.floating:!1}hasPaddingMobile(t){let s=this.panes.find(o=>o.slot===t);return s&&!s.hideOnCollapse}slotExists(t){return!!this.panes.find(o=>o.slot===t)}isFloating(t){let s=this.panes.find(o=>o.slot===t);return s?s.floating:!1}render(){return e(c,{key:"8885c647d0661b05b2ed1b58fd8b61614eda6783"},this.isMobile?e("div",{class:"col"},e("div",{key:"top",style:{minHeight:this.hasPaddingMobile("top")?"48px":"0",display:this.slotExists("top")?"block":"none"}},e("slot",{name:"top"})),e("div",{key:"left",style:{minHeight:this.hasPaddingMobile("left")?"48px":"0",display:this.slotExists("left")?"block":"none"}},e("slot",{name:"left"})),e("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},e("slot",{name:"content"})),e("div",{key:"right",style:{minHeight:this.hasPaddingMobile("right")?"48px":"0",display:this.slotExists("right")?"block":"none"}},e("slot",{name:"right"})),e("div",{key:"bottom",style:{minHeight:this.hasPaddingMobile("bottom")?"48px":"0",display:this.slotExists("bottom")?"block":"none"}},e("slot",{name:"bottom"}))):this.layout=="full-vertical"?e("div",{class:"side-panes-wrapper"},e("div",{class:{row:!0,"padding-left":this.hasPadding("left"),"padding-right":this.hasPadding("right")}},e("div",{key:"left",class:{"absolute-left":this.isFloating("left")}},e("slot",{name:"left"})),e("div",{class:{col:!0,"padding-top":this.hasPadding("top"),"padding-bottom":this.hasPadding("bottom")}},e("div",{key:"top",class:{"absolute-top":this.isFloating("top")}},e("slot",{name:"top"})),e("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},e("slot",{name:"content"})),e("div",{key:"bottom",class:{"absolute-bottom":this.isFloating("bottom")}},e("slot",{name:"bottom"}))),e("div",{key:"right",class:{"absolute-right":this.isFloating("right")}},e("slot",{name:"right"})))):e("div",{class:"side-panes-wrapper"},e("div",{class:{col:!0,"padding-top":this.hasPadding("top"),"padding-bottom":this.hasPadding("bottom")}},e("div",{key:"top",class:{"absolute-top":this.isFloating("top")}},e("slot",{name:"top"})),e("div",{class:{row:!0,"padding-left":this.hasPadding("left"),"padding-right":this.hasPadding("right")}},e("div",{key:"left",class:{"absolute-left":this.isFloating("left")}},e("slot",{name:"left"})),e("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},e("slot",{name:"content"})),e("div",{key:"right",class:{"absolute-right":this.isFloating("right")}},e("slot",{name:"right"}))),e("div",{key:"bottom",class:{"absolute-bottom":this.isFloating("bottom")}},e("slot",{name:"bottom"})))))}get hostElement(){return g(this)}static get watchers(){return{paneElements:["onPaneElementsChange"],variant:["onVariableChange"],borderless:["onBorderChange"],layout:["onLayoutChange"],isMobile:["onMobileChange"]}}};return h.style=v,h})();export{C as ix_pane_layout};

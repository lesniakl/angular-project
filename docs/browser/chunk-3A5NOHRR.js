var i=class{constructor(){this.listeners=[],this.listenersOncer=[],this.on=s=>(this.listeners.push(s),{dispose:()=>this.off(s)}),this.once=s=>{this.listenersOncer.push(s)},this.off=s=>{let t=this.listeners.indexOf(s);t>-1&&this.listeners.splice(t,1)},this.emit=s=>{if(this.listeners.forEach(t=>t(s)),this.listenersOncer.length>0){let t=this.listenersOncer;this.listenersOncer=[],t.forEach(e=>e(s))}},this.pipe=s=>this.on(t=>s.emit(t))}};export{i as a};

import{a as h}from"./chunk-WNCMNEM6.js";import{c as d}from"./chunk-BFGFID37.js";import{a as s}from"./chunk-UIHDJ6TU.js";import{a as n}from"./chunk-6B5MI7V3.js";import"./chunk-ATPE6TRB.js";import{a as r,d as l}from"./chunk-L2AB7DTW.js";import"./chunk-SROII2KU.js";import"./chunk-NIRR6R3K.js";import"./chunk-3A5NOHRR.js";import{a as t,b as c,c as p,g as m,h as u,i as b}from"./chunk-SDUPZHXZ.js";import{g as a}from"./chunk-2R6CW7ES.js";var g=":host{display:flex;align-items:center;position:relative;width:100%;height:2.75rem;min-height:2.75rem;padding:0 1rem 0 0.625rem;color:var(--theme-app-header--color);background-color:var(--theme-app-header--background);border-bottom:var(--theme-app-header--border-width) solid var(--theme-app-header--border-color);z-index:var(--theme-z-index-fixed)}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .app-switch{margin-right:1rem}:host .name{overflow:hidden;overflow-wrap:anywhere;text-overflow:ellipsis;text-wrap:nowrap;max-width:50%;margin-left:1.5rem;margin-right:2.5rem;color:var(--theme-app-header--color)}:host .logo{display:inline-flex;align-items:center;position:relative;height:32px;overflow:hidden;line-height:0rem;color:var(--theme-app-header-logo--color);margin-left:0.375rem}:host .content{display:flex;position:relative;flex-direction:row;margin-left:auto;margin-right:0px}:host .dropdown{overflow:visible}:host .dropdown-content{padding:1rem}:host .context-menu{display:none}:host .context-menu.context-menu-visible{display:block}@media only screen and (max-width: 48em){:host .logo{display:none}}:host ::slotted(ix-avatar){margin-left:1rem}:host(.breakpoint-sm){padding-left:0.625rem}:host(.breakpoint-sm) .logo{margin-left:0.5rem}",f=g,R=(()=>{let i=class{constructor(e){u(this,e),this.name=void 0,this.breakpoint="lg",this.menuExpanded=!1,this.suppressResponsive=!1,this.hasSlottedElements=!1,this.applicationLayoutContext=void 0}get contentBackground(){return this.hostElement.shadowRoot.querySelector(".dropdown-content")}componentWillLoad(){r(this.hostElement,l,e=>{if(e?.host==="map-navigation"){this.suppressResponsive=!0,this.breakpoint="md";return}this.breakpoint=n.breakpoint,this.applicationLayoutContext=e,this.tryUpdateAppSwitch()},!0),this.menuDisposable=s.expandChange.on(e=>{this.menuExpanded=e}),this.modeDisposable=n.onChange.on(e=>{if(this.suppressResponsive){this.breakpoint="md";return}this.breakpoint=e}),this.updateIsSlottedContent()}componentDidLoad(){this.attachSiemensLogoIfLoaded()}disconnectedCallback(){var e,o;(e=this.menuDisposable)===null||e===void 0||e.dispose(),(o=this.modeDisposable)===null||o===void 0||o.dispose()}isLogoSlotted(){return this.hostElement.shadowRoot.querySelector('slot[name="logo"]').assignedNodes({flatten:!0}).length!==0}attachSiemensLogoIfLoaded(){return a(this,null,function*(){yield window.customElements.whenDefined("ix-siemens-logo");let e=document.createElement("ix-siemens-logo");this.isLogoSlotted()||this.hostElement.shadowRoot.querySelector(".logo").appendChild(e)})}onMenuClick(){return a(this,null,function*(){s.toggle()})}resolveContextMenuButton(){return new Promise(e=>b(()=>e(this.hostElement.shadowRoot.querySelector("[data-context-menu]"))))}tryUpdateAppSwitch(){var e;this.callbackUpdateAppSwitchModal&&this.callbackUpdateAppSwitchModal((e=this.applicationLayoutContext)===null||e===void 0?void 0:e.appSwitchConfig)}showAppSwitch(){return a(this,null,function*(){var e;this.callbackUpdateAppSwitchModal=yield h((e=this.applicationLayoutContext)===null||e===void 0?void 0:e.appSwitchConfig)})}updateIsSlottedContent(){let e=this.hostElement.shadowRoot.querySelector(".content slot");this.hasSlottedElements=d(e)}onContentBgClick(e){e.target===this.contentBackground&&e.preventDefault()}render(){var e;return t(c,{key:"daa15d8fe5e43669a666ff21fa8ec64bfbbf9f74",class:{[`breakpoint-${this.breakpoint}`]:!0},slot:"application-header"},this.breakpoint==="sm"&&this.suppressResponsive===!1&&t("ix-menu-expand-icon",{key:"d933cf1ad8cac41c0633cff21029caf9bbcdfd2c",onClick:()=>this.onMenuClick(),expanded:this.menuExpanded}),((e=this.applicationLayoutContext)===null||e===void 0?void 0:e.appSwitchConfig)&&this.breakpoint!=="sm"&&this.suppressResponsive===!1&&t("ix-icon-button",{key:"e229c4af7e86153052d5bd30306c833433ccff8f",onClick:()=>this.showAppSwitch(),icon:"apps",ghost:!0,class:"app-switch"}),t("div",{key:"2abd4e6983d4102448c8636952cec2acb869dd12",class:"logo"},t("slot",{key:"a927c764166256416a9d5d6a64310b54f6aa4ed5",name:"logo"})),t("ix-typography",{key:"6443801e36e42c2ae6c48a0efd7b0252d40c1a9e",format:"body-lg",class:"name"},this.name),t("div",{key:"2f1f3681f79bc2a330d8d95deaecc65f855f1434",class:"content"},this.breakpoint==="sm"?t(m,null,t("ix-icon-button",{class:{"context-menu":!0,"context-menu-visible":this.hasSlottedElements},"data-context-menu":!0,icon:"more-menu",ghost:!0}),t("ix-dropdown",{"data-overflow-dropdown":!0,class:"dropdown",discoverAllSubmenus:!0,trigger:this.resolveContextMenuButton()},t("div",{class:"dropdown-content",onClick:o=>this.onContentBgClick(o)},t("slot",{onSlotchange:()=>this.updateIsSlottedContent()})))):t("slot",{onSlotchange:()=>this.updateIsSlottedContent()}),t("slot",{key:"260364bf65695be4bf64e80c09d76c96fce192ed",name:"ix-application-header-avatar"})))}get hostElement(){return p(this)}};return i.style=f,i})();export{R as ix_application_header};
